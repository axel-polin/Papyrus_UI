<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="fr" > 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="user_man.tex"> 
<link rel="stylesheet" type="text/css" href="user_man.css"> 
</head><body 
>
<!--l. 40--><p class="noindent" >
                                                                                       
                                                                                       
<div class="center" 
>
<!--l. 42--><p class="noindent" >
<!--l. 44--><p class="noindent" ><img 
src="Univ_Bordeaux.png" alt="PIC"  
><span 
class="LinBiolinumT-tlf-t1-x-x-120">&#x00A0;</span><br /><br />
<span 
class="LinBiolinumT-tlf-sc-t1-x-x-172">Manuel utilisateur</span><br /><br />
<span 
class="LinBiolinumTB-tlf-t1-x-x-207">Application Web de Visualisation et de</span>
<span 
class="LinBiolinumTB-tlf-t1-x-x-207">Manipulation de Fragments de Documents</span>
<span 
class="LinBiolinumTB-tlf-t1-x-x-207">Anciens</span><br /><br />
<img 
src="ImagePapyrus.jpg" alt="PIC"  
><br /><br />
<div class="minipage"><div class="flushleft" 
>
<!--l. 54--><p class="noindent" >
 <span 
class="LinBiolinumT-tlf-sc-t1-x-x-144">GUEUX Elisabeth</span><br />
<span 
class="LinBiolinumT-tlf-sc-t1-x-x-144">MIALON Salom</span><span 
class="LinBiolinumT-tlf-sc-t1-x-x-144">é</span><br />
<span 
class="LinBiolinumT-tlf-sc-t1-x-x-144">PIET Quentin</span><br />
<span 
class="LinBiolinumT-tlf-sc-t1-x-x-144">POLIN Axel</span></div></div>
<!--l. 63--><p class="noindent" ><span 
class="LinBiolinumT-tlf-t1-x-x-120">13 Mai 2019</span>
</div>
                                                                                       
                                                                                       
<!--l. 69--><p class="noindent" >
                                                                                       
                                                                                       
<!--l. 71--><p class="indent" >
                                                                                       
                                                                                       
                                                                                       
                                                                                       
   <h2 class="likechapterHead"><a 
 id="x1-1000"></a>Table des matières</h2>
   <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Interface graphique</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-30001.1" id="QQ2-1-3">Les diflérents éléments de l&#8217;interface</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1.1 <a 
href="#x1-40001.1.1" id="QQ2-1-4">Entête</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1.2 <a 
href="#x1-50001.1.2" id="QQ2-1-6">Panneau latéral</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1.3 <a 
href="#x1-80001.1.3" id="QQ2-1-10">Barre de fonctionnalités</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.2 <a 
href="#x1-90001.2" id="QQ2-1-11">Raccourcis clavier et utilisation de la souris</a></span>
<br />   <span class="chapterToc" >2 <a 
href="#x1-100002" id="QQ2-1-12">Serveur</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.1 <a 
href="#x1-110002.1" id="QQ2-1-13">Avant-propos</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.2 <a 
href="#x1-120002.2" id="QQ2-1-14">Discussion concernant la sécurité</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.1 <a 
href="#x1-130002.2.1" id="QQ2-1-15">Utilisation exclusive du protocole HTTPS</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.2 <a 
href="#x1-140002.2.2" id="QQ2-1-16">Certificats de sécurité</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.3 <a 
href="#x1-150002.2.3" id="QQ2-1-17">Sécurisation des en-têtes HTTP</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.4 <a 
href="#x1-160002.2.4" id="QQ2-1-18">Protection contre les attaques CSRF</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.5 <a 
href="#x1-180002.2.5" id="QQ2-1-20">Protection des mots de passes</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.6 <a 
href="#x1-190002.2.6" id="QQ2-1-21">Choix de développement : non utilisation de base de données</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.7 <a 
href="#x1-200002.2.7" id="QQ2-1-22">Avertissements d&#8217;OWASP ZAP et BurpSuite Professional</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2.8 <a 
href="#x1-270002.2.8" id="QQ2-1-29">Quelques avertissements</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.3 <a 
href="#x1-310002.3" id="QQ2-1-33">Intégration de scripts côté serveur</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.3.1 <a 
href="#x1-320002.3.1" id="QQ2-1-34">Intégration JavaScript</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.3.2 <a 
href="#x1-330002.3.2" id="QQ2-1-35">Intégration Python</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.4 <a 
href="#x1-340002.4" id="QQ2-1-36">Ajout de fonctionnalités dans les composants d&#8217;Area côté client</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.4.1 <a 
href="#x1-350002.4.1" id="QQ2-1-37">Ajout de fonctionnalités dans ToolsCommand</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.4.2 <a 
href="#x1-360002.4.2" id="QQ2-1-38">Ajout de fonctionnalités dans un composant</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.5 <a 
href="#x1-370002.5" id="QQ2-1-39">Liens vers des références</a></span>
   </div>
<!--l. 77--><p class="indent" >
                                                                                       
                                                                                       
<!--l. 79--><p class="indent" >   <span 
class="LinLibertineTBI-tlf-t1-x-x-120">Ceci est un manuel d&#8217;utilisation pour avoir plus de d</span><span 
class="LinLibertineTBI-tlf-t1-x-x-120">étails merci de vous r</span><span 
class="LinLibertineTBI-tlf-t1-x-x-120">éf</span><span 
class="LinLibertineTBI-tlf-t1-x-x-120">érez au</span>
<span 
class="LinLibertineTBI-tlf-t1-x-x-120">rapport joint au projet !</span>
<!--l. 81--><p class="indent" >
                                                                                       
                                                                                       
                                                                                       
                                                                                       
   <h2 class="chapterHead"><span class="titlemark">Chapitre&#x00A0;1</span><br /><a 
 id="x1-20001"></a>Interface graphique</h2>
   <h3 class="sectionHead"><span class="titlemark">1.1    </span> <a 
 id="x1-30001.1"></a>Les diflérents éléments de l&#8217;interface</h3>
<!--l. 91--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.1.1    </span> <a 
 id="x1-40001.1.1"></a>Entête</h4>
<!--l. 93--><p class="noindent" ><span 
class="LinLibertineTB-tlf-t1-x-x-120">1- Canvas : </span>renvoie à l&#8217;interface de visualisation et manipulation des fragments.<br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">2- Cr</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">éer un r</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">épertoire : </span>permet de créer un nouvel utilisateur/projet. Une fois créé, renvoie à la
page d&#8217;authentification, rentrer les nouveaux identifiants pour se connecter à la nouvelle
session.<br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">3- Sauvegarder l&#8217;assemblage : </span>permet de sauvegarder l&#8217;assemblage créé dans le canvas à partir des
fragments et de l&#8217;importer sous la forme d&#8217;une entité unique.<br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">4- Log out : </span>permet de quitter la session actuelle.
<!--l. 98--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                       
                                                                                       
<a 
 id="x1-40011"></a>
                                                                                       
                                                                                       
<div class="center" 
>
<!--l. 99--><p class="noindent" >
<!--l. 100--><p class="noindent" ><img 
src="onglets.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id"><span 
class="LinLibertineT-tlf-sc-t1-x-x-120">Figure</span>&#x00A0;1.1: </span><span  
class="content">Les diflérents menus/onglets disponibles au niveau de l&#8217;entête de l&#8217;interface</span></div><!--tex4ht:label?: x1-40011 -->
</div>
                                                                                       
                                                                                       
<!--l. 103--><p class="indent" >   </div><hr class="endfigure">
   <h4 class="subsectionHead"><span class="titlemark">1.1.2    </span> <a 
 id="x1-50001.1.2"></a>Panneau latéral</h4>
<!--l. 106--><p class="noindent" >Le panneau latéral comporte les miniatures et les références des papyrus utilisables pour une session
donnée.
   <h5 class="subsubsectionHead"><a 
 id="x1-60001.1.2"></a>importation des fragments dans le canvas</h5>
<!--l. 108--><p class="noindent" >Pour aficher un fragment dans le canvas : <br 
class="newline" /><br 
class="newline" />1- eflectuer un glisser-déposer de la miniature du fragment d&#8217;intérêt vers le canvas. L&#8217;image afichée
est la version recto-couleur (RCL) du fragment. <br 
class="newline" />
<!--l. 114--><p class="indent" >   <span 
class="LinLibertineTBI-tlf-t1-">Nb : Cette fonctionnalit</span><span 
class="LinLibertineTBI-tlf-t1-">é n&#8217;est pas utilisable sur les appareils tactiles. </span><br 
class="newline" /><br 
class="newline" />2- Cliquer sur cette miniature afiche une liste de 4 versions disponible pour le fragment désiré (R/V :
IR/CL). Cliquer sur une des 4 options permet d&#8217;importer la version correspondante du
fragment.
<!--l. 118--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                       
                                                                                       
<a 
 id="x1-60012"></a>
                                                                                       
                                                                                       
<div class="center" 
>
<!--l. 119--><p class="noindent" >
<!--l. 120--><p class="noindent" ><img 
src="miniatures.png" alt="PIC"  
>
<br /> <div class="caption" 
><span class="id"><span 
class="LinLibertineT-tlf-sc-t1-x-x-120">Figure</span>&#x00A0;1.2: </span><span  
class="content">Miniature associée des 4 versions disponibles</span></div><!--tex4ht:label?: x1-60012 -->
</div>
                                                                                       
                                                                                       
<!--l. 123--><p class="indent" >   </div><hr class="endfigure">
   <h5 class="subsubsectionHead"><a 
 id="x1-70001.1.2"></a>Modifier la version afichée (fragment par fragment)</h5>
<!--l. 129--><p class="noindent" >Cette option permet de visualiser diflérentes version d&#8217;un fragment, sans modifier la version de
l&#8217;ensemble des fragments afichés dans le canvas.
<!--l. 134--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.1.3    </span> <a 
 id="x1-80001.1.3"></a>Barre de fonctionnalités</h4>
<div class="center" 
>
<!--l. 136--><p class="noindent" >
<!--l. 137--><p class="noindent" ><img 
src="barre_fonctio_leg.png" alt="PIC"  
><br /><br />
</div>
<!--l. 141--><p class="noindent" ><span 
class="LinLibertineTB-tlf-t1-x-x-120">1- Best matches : </span>Retourne les fragments les plus susceptibles d&#8217;être associés avec le fragment
sélectionné ainsi que les scores de correspondance associées aux fragments retournés. Cliquer sur
une miniature afin d&#8217;importer l&#8217;image correspondante dans le canvas. Les scores sont obtenus via
l&#8217;exécution d&#8217;algorithmes de traitement d&#8217;images. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">2- Mode de visualisation : </span>Permet de modifier la version afichée pour l&#8217;ensemble des fragments
présents dans le canvas. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">3- Dark/light mode : </span>Permet de modifier la couleur du canvas (bleu sombre/blanc). <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">4- D</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">ésassemblage : </span>Permet de désassembler un assemblage préalablement généré à partir de
plusieurs fragments. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">5- Rotation vers la droite : </span>Permet de faire pivoter le fragment sélectionné vers la droite.
<br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">6- Rotation vers la gauche : </span>Permet de faire pivoter le fragment sélectionné vers la gauche.
<br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">7- Remise </span><span 
class="LinLibertineTB-tlf-t1-x-x-120">à l&#8217;</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">échelle :  </span>Permet de retrouver la taille que présentaient les fragments au moment de
leur importation dans le canvas. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">8- Zoom avant : </span>Eflectue un zoom avant sur l&#8217;ensemble des fragments. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">9- Zoom arri</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">ère : </span>Eflectue un zoom arrière sur l&#8217;ensemble des fragments. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">10- Supprimer une image : </span>Supprime le fragment sélectionné du canvas. Il est toujours possible de
le ré-importer à partir du panneau latéral. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">11- Treshold : </span>eflectue une opération de seuillage sur le fragment sélectionné et retourne l&#8217;image
obtenue. <br 
class="newline" /><br 
class="newline" /><span 
class="LinLibertineTB-tlf-t1-x-x-120">12- Afichage des m</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">éta-donn</span><span 
class="LinLibertineTB-tlf-t1-x-x-120">ées : </span>Afiche les informations sur la langue et les dimensions du
fragment sélectionné.
<!--l. 166--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">1.2    </span> <a 
 id="x1-90001.2"></a>Raccourcis clavier et utilisation de la souris</h3>
<!--l. 168--><p class="noindent" ><span 
class="LinLibertineTB-tlf-t1-x-x-120">Shortkey :</span>
      <ul class="itemize1">
      <li class="itemize">Flèche du haut : Zoom +
      </li>
      <li class="itemize">Flèche du bas : Zoom -
      </li>
      <li class="itemize">Flèche gauche : Rotation gauche
      </li>
      <li class="itemize">Flèche du haut : Rotation droite
      </li></ul>
<!--l. 179--><p class="indent" >   <span 
class="LinLibertineTB-tlf-t1-x-x-120">Souris :</span>
      <ul class="itemize1">
      <li class="itemize">Clique gauche : Sélection / Déplacements
      </li>
      <li class="itemize">Double clique gauche : Rotation / Arrêt rotation
      </li>
      <li class="itemize">Molette haut : Zoom +
      </li>
      <li class="itemize">Molette bas : Zoom -
      </li></ul>
<!--l. 190--><p class="indent" >
                                                                                       
                                                                                       
                                                                                       
                                                                                       
   <h2 class="chapterHead"><span class="titlemark">Chapitre&#x00A0;2</span><br /><a 
 id="x1-100002"></a>Serveur</h2>
   <h3 class="sectionHead"><span class="titlemark">2.1    </span> <a 
 id="x1-110002.1"></a>Avant-propos</h3>
<!--l. 195--><p class="noindent" >Cette section est à destination des développeurs. Sera abordé ici : les considérations de sécurité côté
serveur, le protocole d&#8217;intégration des scripts côté serveur, le protocole d&#8217;ajout de fonctionnalités
dans les composants d&#8217;Area côté client. Enfin, vous trouverez une liste de liens vers les références
des technologies utilisées.
<!--l. 197--><p class="indent" >   Pour toute question, réclamation ou exploit découvert veuillez poster une issue sur <a 
href="https://github.com/axel-polin/Papyrus_UI/issues" >Papyrus_UI</a>
ou contacter directement Axel Polin à univ_apolin@protonmail.com
<!--l. 199--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">2.2    </span> <a 
 id="x1-120002.2"></a>Discussion concernant la sécurité</h3>
<!--l. 201--><p class="noindent" ><span 
class="LinLibertineTI-tlf-t1-x-x-120">Avertissement : les d</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">éveloppeurs initiaux ont s</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">écuris</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">é le serveur </span><span 
class="LinLibertineTI-tlf-t1-x-x-120">à l&#8217;aide de paquets et de configurations</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">de base. Cette note de s</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">écurit</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">é concerne uniquement la partie NodeJS. Aucune configuration n&#8217;a </span><span 
class="LinLibertineTI-tlf-t1-x-x-120">ét</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">é</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">construite pour la partie hardware du serveur, ni pour la partie firewall ou tout autre logiciel ext</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">érieur </span><span 
class="LinLibertineTI-tlf-t1-x-x-120">à</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">NodeJS. Cette note est informative. Cela signifie qu&#8217;elle ne couvre pas tous les aspects de</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">s</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">écurit</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">é de l&#8217;information et qu&#8217;elle ne remplace pas une politique de cyberd</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">éfense appropri</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">ée.</span>
<br 
class="newline" />
<!--l. 203--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.1    </span> <a 
 id="x1-130002.2.1"></a>Utilisation exclusive du protocole HTTPS</h4>
<!--l. 205--><p class="noindent" >Le serveur est configuré pour fonctionner exclusivement en HTTPS ce comportement ne devrait pas
être modifié.
<!--l. 207--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.2    </span> <a 
 id="x1-140002.2.2"></a>Certificats de sécurité</h4>
<!--l. 209--><p class="noindent" >Dans un soucis d&#8217;harmonisation entre les diflérents outils de sécurité utilisés dans cette application,
l&#8217;algorithme de chiflrement des données utilisé est <span 
class="LinLibertineTI-tlf-t1-x-x-120">Elliptic curve digital signature algorithm (ECDSA)</span>.
La courbe utilisée dans algorithme ECDSA est secp256k1. Cette courbe devrait être robuste
jusqu&#8217;en 2050 environ (voir <a 
href="https://www.ssi.gouv.fr/uploads/2015/01/RGS_v-2-0_B1.pdf" ><span 
class="LinLibertineT-tlf-t1-x-x-109">R</span><span 
class="LinLibertineT-tlf-t1-x-x-109">éf</span><span 
class="LinLibertineT-tlf-t1-x-x-109">érentiel G</span><span 
class="LinLibertineT-tlf-t1-x-x-109">én</span><span 
class="LinLibertineT-tlf-t1-x-x-109">éral de S</span><span 
class="LinLibertineT-tlf-t1-x-x-109">écurit</span><span 
class="LinLibertineT-tlf-t1-x-x-109">é version 2.0 Annexe B1 M</span><span 
class="LinLibertineT-tlf-t1-x-x-109">écanismes</span>
<span 
class="LinLibertineT-tlf-t1-x-x-109">cryptographiques R</span><span 
class="LinLibertineT-tlf-t1-x-x-109">ègles et recommandations concernant le choix et le dimensionnement des</span>
<span 
class="LinLibertineT-tlf-t1-x-x-109">m</span><span 
class="LinLibertineT-tlf-t1-x-x-109">écanismes cryptographiques Version 2.03 du 21 f</span><span 
class="LinLibertineT-tlf-t1-x-x-109">évrier 2014</span></a>) Ces mesures devront être respectées à
l&#8217;avenir.
<!--l. 212--><p class="indent" >
                                                                                       
                                                                                       
<!--l. 214--><p class="indent" >   Voici le protocole permettant de générer des certificats (ainsi que leur clé correspondante) :
<span 
class="LinLibertineTI-tlf-t1-x-x-120">openssl ecparam -name secp256k1 -out secp256k1.pem </span><br 
class="newline" />puis <br 
class="newline" /><span 
class="LinLibertineTI-tlf-t1-x-x-120">openssl ecparam -in secp256k1.pem -genkey -noout -out secp256k1-key.pem </span><br 
class="newline" />
   <h4 class="subsectionHead"><span class="titlemark">2.2.3    </span> <a 
 id="x1-150002.2.3"></a>Sécurisation des en-têtes HTTP</h4>
<!--l. 221--><p class="noindent" >Voici les paramètres de requête fixés par défaut dans le serveur : <br 
class="newline" />
      <ul class="itemize1">
      <li class="itemize">Cache-Control : no-store, no-cache, must-revalidate, proxy-revalidate
      </li>
      <li class="itemize">Pragma : no-cache
      </li>
      <li class="itemize">Expires : 0
      </li>
      <li class="itemize">Surrogate-Control : no-store
      </li>
      <li class="itemize">X-DNS-Prefetch-Control : ofl
      </li>
      <li class="itemize">X-Frame-Options : SAMEORIGIN
      </li>
      <li class="itemize">X-Download-Options : noopen
      </li>
      <li class="itemize">X-Content-Type-Options : nosnifl
      </li>
      <li class="itemize">X-XSS-Protection : 1 ; mode=block
      </li>
      <li class="itemize">X-CSRF-Token : $argon2i$v=19$m=4096,t=3,p=1$&#x003C;HASH&#x003E;
      </li>
      <li class="itemize">Strict-Transport-Security : max-age=15552000 ; includeSubDomains
      </li>
      <li class="itemize">Accept-Ranges : bytes
      </li>
      <li class="itemize">ETag : W/"XXXXXXXX"
      </li>
      <li class="itemize">Feature-Policy: camera: 'none'; payment: 'none'; microphone: 'none'
      </li>
      <li class="itemize">Public-Key-Pins   :   &#8217;pin-sha256="&#x003C;KEY1BASE64&#x003E;" ;   &#x00A0;pin-sha256="&#x003C;KEY2BASE64&#x003E;" ;
      &#x00A0;pin-sha256="&#x003C;KEY3BASE64&#x003E;" ; &#x00A0;max-age=36500&#8217;
      </li></ul>
<!--l. 244--><p class="indent" >   Il s&#8217;agit d&#8217;un en-tête classique avec les éléments de sécurité de base : protection contre les
attaques de type <a 
href="https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.md" >XSS</a>, <a 
href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)" >CSRF</a>. Le dernier paramètre permet de changer de certificat si l&#8217;un d&#8217;entre
eux est compromis (remplacer &#x003C;KEY1BASE64&#x003E; par la clé codée en Base64). L&#8217;en-tête
X-CSRF-Token permet de fournir une clé unique au client depuis le serveur. Ceci permet de
protéger le client des attaques CSRF. Les paramètres de cet en-tête ne devront pas être
supprimés.
<!--l. 247--><p class="noindent" >
                                                                                       
                                                                                       
   <h4 class="subsectionHead"><span class="titlemark">2.2.4    </span> <a 
 id="x1-160002.2.4"></a>Protection contre les attaques CSRF</h4>
<!--l. 249--><p class="noindent" >La protection contre les attaques CSRF est construite de la manière suivante : le serveur et le client
partage une clé secrète présente dans chaque échange risqué. Ici la phrase secrète est intégrée aux
en-têtes HTTP dans le paramètre X-CSRF-Token. Le serveur enregistre la clé dans le fichier de
session de l&#8217;utilisateur. Il compare ensuite la clé enregistrée à la clé fournie par le client dans ses
requêtes. Les requêtes sensibles protégées par ce procédé sont toutes les requêtes POST sauf celles
du login et du prototype pour les métadonnées.
<!--l. 252--><p class="indent" >   Construction côté serveur (requête POST) mise en place :
   <!--l. 254-->
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-16001r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Make</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">CSRF</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">protection</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">token</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16002r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">secret</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">crypto</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">randomBytes</span><span 
class="LinLibertineT-tlf-t1-">(32)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16003r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">salt</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">crypto</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">randomBytes</span><span 
class="LinLibertineT-tlf-t1-">(32)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16004r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">session</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">csrfToken</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">await</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">argon2i</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">hash</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">secret</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">salt</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16005r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">END</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">CSRF</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">TOKEN</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">GENERATION</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 262--><p class="indent" >   Construction côté serveur (requête POST) vérification :
   <!--l. 264-->
<div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-16006r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(!</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">return</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">sendStatus</span><span 
class="LinLibertineT-tlf-t1-">(400)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16007r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16008r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">!==</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">session</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">csrfToken</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">return</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">sendStatus</span><span 
class="LinLibertineT-tlf-t1-">(400)</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 270--><p class="indent" >
                                                                                       
                                                                                       
<!--l. 272--><p class="indent" >   Côté client (exemple pour la suppression d&#8217;un répertoire utilisateur) :
   <!--l. 274-->
<div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-16009r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$http</span><span 
class="LinLibertineT-tlf-t1-">({</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16010r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">type</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">GET</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16011r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">url</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16012r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">then</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">response</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16013r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">dataToSend</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">JSON</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">stringify</span><span 
class="LinLibertineT-tlf-t1-">({</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">response</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">headers</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">X</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">CSRF</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">Token</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16014r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">^</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Create</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">a</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">JSON</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">string</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">with</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">concatenation</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">of</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">txt</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">and</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">array</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">see</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16015r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16016r8"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">8</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$http</span><span 
class="LinLibertineT-tlf-t1-">({</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Post</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">all</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">datas</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">to</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">server</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16017r9"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">9</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">method</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">POST</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Method</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">accepted</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">by</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">server</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">is</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">POST</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16018r10"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">10</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">url</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">secure</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">rd</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">The</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">URL</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">where</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">server</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">accept</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">this</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">type</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">of</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">POST</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16019r11"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">11</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">dataToSend</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Put</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">to</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">send</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">here</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16020r12"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">12</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">dataType</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">json</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">The</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">type</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">of</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">is</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">JSON</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16021r13"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">13</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">contentType</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">application</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">json</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">charset</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">utf</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">8</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Content</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">Type</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">for</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">server</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">and</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">communication</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16022r14"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">14</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">then</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">response</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16023r15"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">15</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">alert</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Votre</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">repertoire</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">a</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">ete</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">supprime</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">!</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16024r16"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">16</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">window</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">location</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">reload</span><span 
class="LinLibertineT-tlf-t1-">()</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16025r17"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">17</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">},</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">response</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16026r18"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">18</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">alert</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Error</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">while</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">deleting</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">working</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">directory</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">!!</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">If</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">RD</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">fail</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">alert</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">user</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16027r19"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">19</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16028r20"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">20</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-16029r21"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">21</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
   <h5 class="subsubsectionHead"><a 
 id="x1-170002.2.4"></a>Login CSRF : avertissement pour le futur</h5>
<!--l. 300--><p class="noindent" >Un utilisateur non enregistré (login) n&#8217;est pas protégé contre les attaques CSRF tant qu&#8217;il n&#8217;est pas
logué. Ceci concerne tout les utilisateurs même ceux qui ont un projet enregistré dans le serveur. Le
protocole de protection CSRF respecte les recommandations de sécurité actuelles cependant il faudra
peut-être corriger cela dans de futures versions selon les prochaines recommandations de
sécurité.
<!--l. 303--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.5    </span> <a 
 id="x1-180002.2.5"></a>Protection des mots de passes</h4>
<!--l. 305--><p class="noindent" >Les mots de passe sont hashés dans le serveur à l&#8217;aide de l&#8217;algorithme <a 
href="https://password-hashing.net/" >Argon2i</a>. Cet algorithme est la
nouvelle référence des fonctions de hashage. Sauf choix délibéré, celui-ci devrait être
conservé.
<!--l. 307--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2.6    </span> <a 
 id="x1-190002.2.6"></a>Choix de développement : non utilisation de base de données</h4>
<!--l. 309--><p class="noindent" >Les utilisateurs et les projets sont gérés à l&#8217;aide de fichier JSON. Étant donné que le trafic prévu ne
sera pas très élevé, il n&#8217;a pas été nécessaire de paramétrer des bases de données. De plus, l&#8217;absence
de base de données supprime le risque de <a 
href="https://www.owasp.org/index.php/SQL_Injection" >SQLi</a>. Les futurs développeurs pourront modifier ce
comportement s&#8217;ils le souhaitent, il n&#8217;y a pas de contre-indication dans la mesure où les règles
contenues dans ces fichiers sont respectées : <a 
href="https://raw.githubusercontent.com/OWASP/CheatSheetSeries/master/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.md" >SQLi prévention Cheat Sheet</a> , <a 
href="https://raw.githubusercontent.com/OWASP/CheatSheetSeries/master/cheatsheets/Query_Parameterization_Cheat_Sheet.md" >Paramétrage Requête</a>
<br 
class="newline" />
<!--l. 313--><p class="indent" >
                                                                                       
                                                                                       
   <h4 class="subsectionHead"><span class="titlemark">2.2.7    </span> <a 
 id="x1-200002.2.7"></a>Avertissements d&#8217;OWASP ZAP et BurpSuite Professional</h4>
<!--l. 317--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-210002.2.7"></a>ZAP</h5>
<!--l. 319--><p class="noindent" >Zap détecte un seul problème de sécurité : <span 
class="LinLibertineTI-tlf-t1-x-x-120">Inclusion de fichier source JavaScript inter-domaine </span>son
statut est de priorité basse. En eflet, l&#8217;application importe des fichiers JavaScript depuis d&#8217;autres
domaine que celui du serveur. Cela ne pose pas de problème tant que les conditions suivantes
sont respectées : <span 
class="LinLibertineTI-tlf-t1-x-x-120">S&#8217;assurer que les fichiers sources JavaScript soient charg</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">és uniquement </span><span 
class="LinLibertineTI-tlf-t1-x-x-120">à</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">partir de sources fiables, et que les sources ne peuvent </span><span 
class="LinLibertineTI-tlf-t1-x-x-120">être contr</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">ôl</span><span 
class="LinLibertineTI-tlf-t1-x-x-120">ées par les utilisateurs de</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">l&#8217;application</span>.
<!--l. 321--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-220002.2.7"></a>BurpSuite</h5>
<!--l. 323--><p class="noindent" >BurpSuite détecte la même erreur que ZAP. Il retourne en plus une information de type <span 
class="LinLibertineTI-tlf-t1-x-x-120">Input</span>
<span 
class="LinLibertineTI-tlf-t1-x-x-120">returned in response (reflected)</span>. Cependant il semble s&#8217;agir d&#8217;un faux positif, le problème existe mais
ne semble pas exploitable. Si un futur développeur remarque un problème de sécurité lié à cette
issue merci de se référer aux détails suivant :
<!--l. 325--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-230002.2.7"></a>Issue detail</h5>
<!--l. 327--><p class="noindent" >The value of the URL path filename is copied into the application&#8217;s response.
<!--l. 329--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-240002.2.7"></a>Issue background</h5>
<!--l. 331--><p class="noindent" >Redirection of input arises when data is copied from a request and echoed into the application&#8217;s
immediate response.
<!--l. 333--><p class="indent" >   Input being returned in application responses is not a vulnerability in its own right. However, it
is a prerequisite for many client-side vulnerabilities, including cross-site scripting, open redirection,
content spoofing, and response header injection. Additionally, some server-side vulnerabilities such
as SQL injection are often easier to identify and exploit when input is returned in responses. In
applications where input retrieval is rare and the environment is resistant to automated testing (for
example, due to a web application firewall), it might be worth subjecting instances of it to focused
manual testing.
<!--l. 335--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-250002.2.7"></a>Vulnerability classifications</h5>
<!--l. 337--><p class="noindent" ><a 
href="https://cwe.mitre.org/data/definitions/20.html" >CWE-20: Improper Input Validation</a> <br 
class="newline" /><a 
href="https://cwe.mitre.org/data/definitions/116.html" >CWE-116: Improper Encoding or Escaping of Output</a>
                                                                                       
                                                                                       
<!--l. 340--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-260002.2.7"></a>Request/Response (filtered)</h5>
<!--l. 342--><p class="noindent" >Request : GET /secure/interface.htmlajijp5w4f7 HTTP/1.1 <br 
class="newline" />Response : &#x003C;pre&#x003E;Cannot GET /secure/interface.htmlajijp5w4f7&#x003C;/pre&#x003E; <br 
class="newline" />
<!--l. 345--><p class="indent" >
                                                                                       
                                                                                       
   <h4 class="subsectionHead"><span class="titlemark">2.2.8    </span> <a 
 id="x1-270002.2.8"></a>Quelques avertissements</h4>
<!--l. 349--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-280002.2.8"></a>Utilisation du serveur</h5>
<!--l. 351--><p class="noindent" >N&#8217;utilisez pas <span 
class="LinLibertineTBI-tlf-t1-x-x-120">node debug [...]</span>, utilisez plutôt <span 
class="LinLibertineTBI-tlf-t1-x-x-120">node inspect [...]</span>. Cette recommandation fait suite à
l&#8217;exploit suivant : <a 
href="https://www.exploit-db.com/exploits/42793" >NodeJS Debugger - Command Injection (Metasploit)</a>
<!--l. 354--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-290002.2.8"></a>Code HTML côté client</h5>
<!--l. 356--><p class="noindent" >Pour des raisons de facilité de maintenance du serveur, les pages web appellent des scripts hors
domaine. Les domaines utilisés sont sécurisés mais ne dépendent pas du domaine de
l&#8217;application. Ce comportement peut-être modifié en téléchargeant directement les scripts
correspondant dans l&#8217;arborescence du serveur. Ainsi le client ne dépendra que du domaine de
l&#8217;application.
<!--l. 361--><p class="noindent" >
   <h5 class="subsubsectionHead"><a 
 id="x1-300002.2.8"></a>Liens utiles</h5>
<!--l. 363--><p class="noindent" >Voici une liste non-exhaustive de sites web ou ressources utiles :
<!--l. 365--><p class="indent" >   <a 
href="https://www.ssi.gouv.fr/" >Site web de l&#8217;agence nationale de la sécurité des systèmes d&#8217;information</a>
<!--l. 367--><p class="indent" >   <a 
href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" >Site web de OWASP Zed Attack Proxy Project</a>
<!--l. 369--><p class="indent" >   <a 
href="https://portswigger.net/" >Site web de portswigger web security</a>
<!--l. 371--><p class="indent" >   <a 
href="https://www.exploit-db.com/" >Site web d&#8217;exploit database</a>
<!--l. 373--><p class="indent" >
                                                                                       
                                                                                       
   <h3 class="sectionHead"><span class="titlemark">2.3    </span> <a 
 id="x1-310002.3"></a>Intégration de scripts côté serveur</h3>
<!--l. 377--><p class="noindent" >Deux types de scripts peuvent être utilisés : JavaScript et Python.
<!--l. 379--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.3.1    </span> <a 
 id="x1-320002.3.1"></a>Intégration JavaScript</h4>
<!--l. 381--><p class="noindent" >Après avoir créé votre script il faut le charger de la manière suivante : <span 
class="LinLibertineTI-tlf-t1-x-x-120">require(/path/to/JavaScript.js)</span>.
Il faut ne pas polluer le Global Scope. Utilisez <span 
class="LinLibertineTI-tlf-t1-x-x-120">module.exports.&#x003C;FONCTION&#x003E;</span>.
<!--l. 383--><p class="indent" >   Ensuite voici le déroulement :
<!--l. 385--><p class="indent" >   1/ Importer le script.
   <!--l. 387-->
<div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-32001r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">ScriptPath</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">require</span><span 
class="LinLibertineT-tlf-t1-">(/</span><span 
class="LinLibertineT-tlf-t1-">path</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">to</span><span 
class="LinLibertineT-tlf-t1-">/&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">script</span><span 
class="LinLibertineT-tlf-t1-">&#x003E;.</span><span 
class="LinLibertineT-tlf-t1-">js</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 391--><p class="indent" >   2/ Préparer le bloc de requête de la manière suivante.
<!--l. 393--><p class="indent" >   La requête est post ou get. Si POST, les variables d&#8217;entrée se trouvent dans req.body ; si GET les
variables d&#8217;entrée se trouvent dans res.params ou req.query cf <a 
href="https://expressjs.com/en/api.html" >Express API</a>
<!--l. 395--><p class="indent" >   Voici un exemple avec POST.
   <!--l. 397-->
<div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-32002r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">router</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">post</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">tresholdPath</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Route</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">when</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">POST</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">treshold</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">contains</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">ref</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">make</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">some</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">action</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">and</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">send</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">200</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">OK</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32003r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">session</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">isAuthenticated</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">===</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Success</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">If</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">user</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">is</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">login</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32004r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">\\</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[...]</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">INSTRUCTIONS</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32005r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32006r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">The</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">contain</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">reference</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32007r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32008r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">\\</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">lancer</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">des</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">fonctions</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">issuent</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">du</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">script</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">importer</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">sur</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">les</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">donnees</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">de</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">la</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">requete</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32009r8"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">8</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">\\</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">gerer</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">les</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">erreurs</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">et</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">renvoie</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">au</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">serveur</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-32010r9"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">9</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 410--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.3.2    </span> <a 
 id="x1-330002.3.2"></a>Intégration Python</h4>
<!--l. 412--><p class="noindent" >L&#8217;intégration des scripts python est indirect. Le module python-shell est déjà installé et intégré au
serveur.
<!--l. 414--><p class="indent" >   Voici les étapes pour intégrer le script :
<!--l. 416--><p class="indent" >   1/ Créer la variable de path du script.
   <!--l. 418-->
<div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-33001r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">ScriptPath</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">__dirname</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">+</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">Scripts</span><span 
class="LinLibertineT-tlf-t1-">/&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">script</span><span 
class="LinLibertineT-tlf-t1-">&#x003E;.</span><span 
class="LinLibertineT-tlf-t1-">py</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 422--><p class="indent" >   2/ Préparer le bloc de requête de la manière suivante.
<!--l. 424--><p class="indent" >   La requête est post ou get. Si POST, les variables d&#8217;entrée se trouvent dans req.body ; si GET les
variables d&#8217;entrée se trouvent dans res.params ou req.query cf <a 
href="https://expressjs.com/en/api.html" >Express API</a>
<!--l. 426--><p class="indent" >   Voici un exemple avec POST.
   <!--l. 428-->
<div class="lstlisting" id="listing-7"><span class="label"><a 
 id="x1-33002r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">router</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">post</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">tresholdPath</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Route</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">when</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">POST</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">treshold</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">contains</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">ref</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">make</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">some</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">action</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">and</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">send</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">200</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">OK</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33003r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">session</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">isAuthenticated</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">===</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Success</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">If</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">user</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">is</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">login</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33004r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">\\</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[...]</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">INSTRUCTIONS</span>
   </div>
<!--l. 434--><p class="indent" >   Récupération des éléments de la requête et paramétrage des options (voir <a 
href="https://www.npmjs.com/package/python-shell" >Github
python-shell</a>)
   <!--l. 436-->
<div class="lstlisting" id="listing-8"><span class="label"><a 
 id="x1-33007r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">img</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">The</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">body</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">contain</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">reference</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33008r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33009r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">options</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33010r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">mode</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">text</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33011r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">pythonPath</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">path</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">to</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">python</span><span 
class="LinLibertineT-tlf-t1-">&#x003E;,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33012r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">args</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[&#8216;</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">imgToScript</span><span 
class="LinLibertineT-tlf-t1-">}&#8216;,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#8216;</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">o</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">datasPath</span><span 
class="LinLibertineT-tlf-t1-">}&#8216;]</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33013r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">};</span>
                                                                                       
                                                                                       
   </div>
<!--l. 446--><p class="indent" >   Démarrer le script : en cas d&#8217;erreur retourner l&#8217;erreur, sinon traiter les résultats et renvoyer au
client 200 OK
   <!--l. 448-->
<div class="lstlisting" id="listing-9"><span class="label"><a 
 id="x1-33014r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">PythonShell</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">run</span><span 
class="LinLibertineT-tlf-t1-">(&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">your</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">script</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">path</span><span 
class="LinLibertineT-tlf-t1-">&#x003E;,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">options</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">err</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">results</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33015r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">err</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">throw</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">err</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33016r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[...]</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">INSTRUCTIONS</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33017r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">sendStatus</span><span 
class="LinLibertineT-tlf-t1-">(200)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33018r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33019r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33020r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">else</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33021r8"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">8</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">console</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">log</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">WARNING</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">TRESHOLD</span><span 
class="LinLibertineT-tlf-t1-">]</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Access</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Denied</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">+</span><span 
class="LinLibertineT-tlf-t1-">req</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">session</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">user</span><span 
class="LinLibertineT-tlf-t1-">+</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33022r9"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">9</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">res</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">redirect</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">mainPath</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33023r10"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">10</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-33024r11"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">11</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span>
   </div>
<!--l. 462--><p class="indent" >   Voila pour le protocole de base.
<!--l. 464--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">2.4    </span> <a 
 id="x1-340002.4"></a>Ajout de fonctionnalités dans les composants d&#8217;Area côté client</h3>
<!--l. 466--><p class="noindent" >Le &#8217;canvas&#8217; possède des composants (les images). Il existe deux manières d&#8217;altérer ces composants.
La première sont les fonctions intégrées directement dans les composants : contains, remove, disass.
La seconde sont les fonctions présentent dans Crtl.js et notamment dans le contrôleur
&#8217;ToolsCommand&#8217;.
<!--l. 469--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.4.1    </span> <a 
 id="x1-350002.4.1"></a>Ajout de fonctionnalités dans ToolsCommand</h4>
<!--l. 471--><p class="noindent" >L&#8217;altération d&#8217;un composant à travers ToolsCommand passe par Area.selection qui contient le
composant sélectionné. Vous pouvez suivre l&#8217;exemple suivant :
   <!--l. 474-->
<div class="lstlisting" id="listing-10"><span class="label"><a 
 id="x1-35001r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">$scope</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">RotateLeft</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">()</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35002r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35003r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">name</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">RotateLeft</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35004r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">@param</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">nothing</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35005r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">@return</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">nothing</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35006r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">This</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">reduce</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">selection</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">angle</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">property</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">used</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">to</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">rotate</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">selected</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">counter</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">clock</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">wise</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">rotation</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35007r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35008r8"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">8</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">selection</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">!=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">null</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35009r9"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">9</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">selection</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">angle</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">5</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Math</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">PI</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">180;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35010r10"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">10</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-35011r11"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">11</span></span><span 
class="LinLibertineT-tlf-t1-">};</span>
   </div>
<!--l. 488--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.4.2    </span> <a 
 id="x1-360002.4.2"></a>Ajout de fonctionnalités dans un composant</h4>
<!--l. 490--><p class="noindent" >L&#8217;ajout de fonctionnalités directement dans un composant passe par des prototypes de
fonctions.
<!--l. 492--><p class="indent" >
                                                                                       
                                                                                       
<!--l. 494--><p class="indent" >   Voici un exemple : <!--l. 495-->
<div class="lstlisting" id="listing-11"><span class="label"><a 
 id="x1-36001r1"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">1</span></span><span 
class="LinLibertineT-tlf-t1-">component</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">prototype</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">disass</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">()</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36002r2"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">2</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36003r3"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">3</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">index</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">indexOf</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">this</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Search</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">object</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">in</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36004r4"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">4</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">index</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x003E;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">1)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">//</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">If</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">the</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">object</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">is</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">found</span><span 
class="LinLibertineT-tlf-t1-">...</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36005r5"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">5</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">refImg</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">index</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">ref</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36006r6"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">6</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">refImg</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">substr</span><span 
class="LinLibertineT-tlf-t1-">(0,8)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">===</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Compound</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36007r7"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">7</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">tmpImg</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">index</span><span 
class="LinLibertineT-tlf-t1-">];</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36008r8"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">8</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">get</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">Datas</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">+</span><span 
class="LinLibertineT-tlf-t1-">refImg</span><span 
class="LinLibertineT-tlf-t1-">+</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">json</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">status</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36009r9"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">9</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">get</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">secure</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">ref</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">tableJSON</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">status</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36010r10"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">10</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36011r11"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">11</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">table</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">JSON</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">parse</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">tableJSON</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36012r12"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">12</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">[];</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36013r13"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">13</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">l</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">length</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36014r14"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">14</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">l2</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">table</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">length</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36015r15"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">15</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36016r16"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">16</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">for</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">=0;</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">l</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">++)</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36017r17"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">17</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">for</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">var</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">=0;</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">&#x003C;</span><span 
class="LinLibertineT-tlf-t1-">l2</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">++)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36018r18"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">18</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">if</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">table</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">Ref</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">===</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">ref</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36019r19"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">19</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">push</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">new</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">component</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">table</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">RCL</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">table</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">j</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">Ref</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36020r20"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">20</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">x</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">x</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36021r21"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">21</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">y</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">y</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36022r22"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">22</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">angle</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">angle</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36023r23"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">23</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">scale</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">scaleFactorW</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36024r24"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">24</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">width</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">width</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">scale</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36025r25"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">25</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">height</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">=</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">images</span><span 
class="LinLibertineT-tlf-t1-">[</span><span 
class="LinLibertineT-tlf-t1-">i</span><span 
class="LinLibertineT-tlf-t1-">].</span><span 
class="LinLibertineT-tlf-t1-">image</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">height</span><span 
class="LinLibertineT-tlf-ts-1">*</span><span 
class="LinLibertineT-tlf-t1-">Area</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">scale</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36026r26"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">26</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36027r27"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">27</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36028r28"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">28</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36029r29"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">29</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36030r30"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">30</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36031r31"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">31</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36032r32"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">32</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">get</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">status</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">xhr</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36033r33"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">33</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">$</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">post</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">secure</span><span 
class="LinLibertineT-tlf-t1-">/</span><span 
class="LinLibertineT-tlf-t1-">DestroyCMP</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">,{</span><span 
class="LinLibertineT-tlf-t1-">compound</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">refImg</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">csrf</span><span 
class="LinLibertineT-tlf-t1-">:</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">xhr</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">getResponseHeader</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">X</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">CSRF</span><span 
class="cmsy-10">-</span><span 
class="LinLibertineT-tlf-t1-">Token</span><span 
class="LinLibertineT-tlf-t1-">&#8217;</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">},</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36034r34"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">34</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">function</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">data</span><span 
class="LinLibertineT-tlf-t1-">,</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">status</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">{</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36035r35"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">35</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">console</span><span 
class="LinLibertineT-tlf-t1-">.</span><span 
class="LinLibertineT-tlf-t1-">log</span><span 
class="LinLibertineT-tlf-t1-">(</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">Compound</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">destroyed</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">!</span><span 
class="LinLibertineT-tlf-t1-">"</span><span 
class="LinLibertineT-tlf-t1-">)</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36036r36"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">36</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36037r37"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">37</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">})</span><span 
class="LinLibertineT-tlf-t1-">;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36038r38"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">38</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36039r39"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">39</span></span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><span 
class="LinLibertineT-tlf-t1-">}</span><span 
class="LinLibertineT-tlf-t1-">&#x00A0;</span><br /><span class="label"><a 
 id="x1-36040r40"></a><span 
class="LinLibertineT-tlf-t1-x-x-60">40</span></span><span 
class="LinLibertineT-tlf-t1-">}</span>
   </div>
   <h3 class="sectionHead"><span class="titlemark">2.5    </span> <a 
 id="x1-370002.5"></a>Liens vers des références</h3>
<!--l. 540--><p class="noindent" ><a 
href="https://expressjs.com/en/api.html" >Express API</a> <br 
class="newline" /><a 
href="https://nodejs.org/api/index.html" >NodeJS API</a> <br 
class="newline" /><a 
href="https://www.npmjs.com/" >NPM pour les dépendances</a> <br 
class="newline" /><a 
href="https://www.owasp.org/index.php/" >OWASP index, voir Reference à gauche</a> <br 
class="newline" /><a 
href="https://cwe.mitre.org/" >Common Weakness Enumeration</a> <br 
class="newline" />
    
</body></html> 

                                                                                       


